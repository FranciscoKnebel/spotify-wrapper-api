<!DOCTYPE html>
<html>
	<head>
		<meta charset="utf-8">
		<title></title>
	</head>
	<body>

		<div id="albuns" style="text-align: center;"></div>

		<script type="text/javascript" src="../dist/spotify-wrapper.umd.js"></script>
		<script type="text/javascript">
			const element = document.getElementById('albuns');

			function fetchTheDamnAlbumBaby(promise, element) {
				promise
					.then(data => data.albums.items)
					.then(items => items.map(item => ({ id: item.id, name: item.name, image: item.images[1].url })))
					.then(items => items.map(item => `<img src="${item.image}" alt="${item.name}" title="${item.name}" id="${item.id}">`).join(''))
					.then(markup => {
						element.innerHTML = markup;
					})
			}

			const token = 'BQBqzKgDlXZ1z5wmnhk3P1744LpUygPSJcovIJ3Q72QLB2mBsDM_vx710EJcstkyja3Mgw_fCrO3yf806PaGvE_vvaG0ou20cCKiK1490bUXfoGMPGbFbwGD0D8Iv74dvORqOFCg6lVQhMBmVDc1SA';
			const spotify = new SpotifyWrapper({ token });

			const albums = spotify.search.albums('Led Zeppelin');
			fetchTheDamnAlbumBaby(albums, element);

		</script>
	</body>
</html>
